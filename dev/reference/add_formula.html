<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Add formula terms to a workflow — add_formula • workflows</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>

<!-- Bootstrap -->
<link href="../tidyverse.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>
<link href="../tidyverse-2.css" rel="stylesheet">

<!--optional theme-->
<link href="../tidymodels.css" rel="stylesheet">




<meta property="og:title" content="Add formula terms to a workflow — add_formula" />
<meta property="og:description" content="

add_formula() specifies the terms of the model through the usage of a
formula.
remove_formula() removes the formula as well as any downstream objects
that might get created after the formula is used for preprocessing, such as
terms. Additionally, if the model has already been fit, then the fit is
removed.
update_formula() first removes the formula, then replaces the previous
formula with the new one. Any model that has already been fit based on this
formula will need to be refit.

" />
<meta name="twitter:card" content="summary" />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script>

  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">workflows</a>
        <div class="info hidden-xs hidden-sm">
          <span class="partof">part of <a href="https://tidymodels.org">tidymodels</a></span>
          <span class="version version-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.1.1.9000</span>
        </div>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../articles/stages.html">Workflow Stages</a>
</li>
<li>
  <a href="../articles/extras/getting-started.html">Getting Started</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
        <li>
  <a href="https://github.com/tidymodels/workflows/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Add formula terms to a workflow</h1>
    <small class="dont-index">Source: <a href='https://github.com/tidymodels/workflows/blob/master/R/pre-action-formula.R'><code>R/pre-action-formula.R</code></a></small>
    <div class="hidden name"><code>add_formula.Rd</code></div>
    </div>

    <div class="ref-description">
    
<ul>
<li><p><code><a href='https://rdrr.io/pkg/workflows/man/add_formula.html'>add_formula()</a></code> specifies the terms of the model through the usage of a
formula.</p></li>
<li><p><code><a href='https://rdrr.io/pkg/workflows/man/add_formula.html'>remove_formula()</a></code> removes the formula as well as any downstream objects
that might get created after the formula is used for preprocessing, such as
terms. Additionally, if the model has already been fit, then the fit is
removed.</p></li>
<li><p><code><a href='https://rdrr.io/pkg/workflows/man/add_formula.html'>update_formula()</a></code> first removes the formula, then replaces the previous
formula with the new one. Any model that has already been fit based on this
formula will need to be refit.</p></li>
</ul>

    </div>

    <pre class="usage"><span class='fu'><a href='https://rdrr.io/pkg/workflows/man/add_formula.html'>add_formula</a></span>(<span class='kw'>x</span>, <span class='kw'>formula</span>, <span class='kw'>...</span>, blueprint = <span class='kw'>NULL</span>)

<span class='fu'><a href='https://rdrr.io/pkg/workflows/man/add_formula.html'>remove_formula</a></span>(<span class='kw'>x</span>)

<span class='fu'><a href='https://rdrr.io/pkg/workflows/man/add_formula.html'>update_formula</a></span>(<span class='kw'>x</span>, <span class='kw'>formula</span>, <span class='kw'>...</span>, blueprint = <span class='kw'>NULL</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>A workflow</p></td>
    </tr>
    <tr>
      <th>formula</th>
      <td><p>A formula specifying the terms of the model. It is advised to
not do preprocessing in the formula, and instead use a recipe if that is
required.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Not used.</p></td>
    </tr>
    <tr>
      <th>blueprint</th>
      <td><p>A hardhat blueprint used for fine tuning the preprocessing.
If <code>NULL</code>, <code><a href='https://rdrr.io/pkg/hardhat/man/default_formula_blueprint.html'>hardhat::default_formula_blueprint()</a></code> is used and is passed
an <code>indicators</code> argument that best aligns with the model present in
the workflow.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>x</code>, updated with either a new or removed formula preprocessor.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>To fit a workflow, one of <code><a href='https://rdrr.io/pkg/workflows/man/add_formula.html'>add_formula()</a></code> or <code><a href='https://rdrr.io/pkg/workflows/man/add_recipe.html'>add_recipe()</a></code> <em>must</em> be
specified, but not both.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>workflow</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/workflows/man/workflow.html'>workflow</a></span>()
<span class='kw'>workflow</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/workflows/man/add_formula.html'>add_formula</a></span>(<span class='kw'>workflow</span>, <span class='kw'>mpg</span> <span class='op'>~</span> <span class='kw'>cyl</span>)
<span class='kw'>workflow</span></div><div class='output co'>#&gt; ══ Workflow ════════════════════════════════════════════════════════════════════
#&gt; <span style='font-style: italic;'>Preprocessor:</span><span> Formula
#&gt; </span><span style='font-style: italic;'>Model:</span><span> None
#&gt; 
#&gt; ── Preprocessor ────────────────────────────────────────────────────────────────
#&gt; mpg ~ cyl</div><div class='input'>
<span class='fu'><a href='https://rdrr.io/pkg/workflows/man/add_formula.html'>remove_formula</a></span>(<span class='kw'>workflow</span>)</div><div class='output co'>#&gt; ══ Workflow ════════════════════════════════════════════════════════════════════
#&gt; </span><span style='font-style: italic;'>Preprocessor:</span><span> None
#&gt; </span><span style='font-style: italic;'>Model:</span><span> None</div><div class='input'>
<span class='fu'><a href='https://rdrr.io/pkg/workflows/man/add_formula.html'>update_formula</a></span>(<span class='kw'>workflow</span>, <span class='kw'>mpg</span> <span class='op'>~</span> <span class='kw'>disp</span>)</div><div class='output co'>#&gt; ══ Workflow ════════════════════════════════════════════════════════════════════
#&gt; </span><span style='font-style: italic;'>Preprocessor:</span><span> Formula
#&gt; </span><span style='font-style: italic;'>Model:</span><span> None
#&gt; 
#&gt; ── Preprocessor ────────────────────────────────────────────────────────────────
#&gt; mpg ~ disp</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="tidyverse">
  <p><code>workflows</code> is a part of the <strong>tidymodels</strong> ecosystem, a collection of modeling packages designed with common APIs and a shared philosophy.</p>
</div>

<div class="author">
  <p>
    Developed by Davis Vaughan.
    Site built by <a href="https://pkgdown.r-lib.org">pkgdown</a>.
  </p>
</div>

      </footer>
   </div>

  


  </body>
</html>


